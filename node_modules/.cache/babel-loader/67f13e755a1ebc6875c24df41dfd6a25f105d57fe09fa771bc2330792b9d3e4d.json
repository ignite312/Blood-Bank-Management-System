{"ast":null,"code":"import React,{useState,useEffect}from'react';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AppointmentForm(_ref){let{onFormSubmit}=_ref;const[donorId,setDonorId]=useState('');const[loading,setLoading]=useState(false);const handleInputChange=e=>{setDonorId(e.target.value);};const handleSubmit=async e=>{e.preventDefault();try{setLoading(true);const response=await fetch('http://localhost:3000/api/create-appointment',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({donor_id:donorId})});if(response.ok){console.log('Appointment data successfully inserted into the database');// Display toast message for success\ntoast.success('Appointment data successfully inserted into the database');// Optionally, reset the form or provide feedback to the user\nsetDonorId('');onFormSubmit();}else{console.error('Failed to insert appointment data into the database');// Optionally, provide user-friendly error message or feedback\n}}catch(error){console.error('Error:',error);// Optionally, provide user-friendly error message or feedback\n}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Appointment Information\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"user-input-form\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"donor_id\",children:\"Donor ID:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"donor_id\",name:\"donor_id\",value:donorId,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:loading,children:loading?'Submitting...':'Submit'})})]})]});}export default AppointmentForm;","map":{"version":3,"names":["React","useState","useEffect","toast","jsx","_jsx","jsxs","_jsxs","AppointmentForm","_ref","onFormSubmit","donorId","setDonorId","loading","setLoading","handleInputChange","e","target","value","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","donor_id","ok","console","log","success","error","children","onSubmit","className","htmlFor","type","id","name","onChange","disabled"],"sources":["/Users/emon/Desktop/Blood-Bank-Management-System/src/UserAccess/Appointment.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction AppointmentForm({ onFormSubmit }) {\n  const [donorId, setDonorId] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleInputChange = (e) => {\n    setDonorId(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      setLoading(true);\n\n      const response = await fetch('http://localhost:3000/api/create-appointment', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          donor_id: donorId,\n        }),\n      });\n\n      if (response.ok) {\n        console.log('Appointment data successfully inserted into the database');\n        // Display toast message for success\n        toast.success('Appointment data successfully inserted into the database');\n        // Optionally, reset the form or provide feedback to the user\n        setDonorId('');\n        onFormSubmit();\n      } else {\n        console.error('Failed to insert appointment data into the database');\n        // Optionally, provide user-friendly error message or feedback\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      // Optionally, provide user-friendly error message or feedback\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Appointment Information</h2>\n      <form onSubmit={handleSubmit} className=\"user-input-form\">\n        <div>\n          <label htmlFor=\"donor_id\">Donor ID:</label>\n          <input\n            type=\"text\"\n            id=\"donor_id\"\n            name=\"donor_id\"\n            value={donorId}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\" className=\"submit-button\" disabled={loading}>\n            {loading ? 'Submitting...' : 'Submit'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AppointmentForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAmB,IAAlB,CAAEC,YAAa,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAc,iBAAiB,CAAIC,CAAC,EAAK,CAC/BJ,UAAU,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAH,CAAC,EAAK,CAChCA,CAAC,CAACI,cAAc,CAAC,CAAC,CAElB,GAAI,CACFN,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,8CAA8C,CAAE,CAC3EC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,QAAQ,CAAEjB,OACZ,CAAC,CACH,CAAC,CAAC,CAEF,GAAIU,QAAQ,CAACQ,EAAE,CAAE,CACfC,OAAO,CAACC,GAAG,CAAC,0DAA0D,CAAC,CACvE;AACA5B,KAAK,CAAC6B,OAAO,CAAC,0DAA0D,CAAC,CACzE;AACApB,UAAU,CAAC,EAAE,CAAC,CACdF,YAAY,CAAC,CAAC,CAChB,CAAC,IAAM,CACLoB,OAAO,CAACG,KAAK,CAAC,qDAAqD,CAAC,CACpE;AACF,CACF,CAAE,MAAOA,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9B;AACF,CAAC,OAAS,CACRnB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEP,KAAA,QAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,CAAI,yBAAuB,CAAI,CAAC,cAChC3B,KAAA,SAAM4B,QAAQ,CAAEhB,YAAa,CAACiB,SAAS,CAAC,iBAAiB,CAAAF,QAAA,eACvD3B,KAAA,QAAA2B,QAAA,eACE7B,IAAA,UAAOgC,OAAO,CAAC,UAAU,CAAAH,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3C7B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,UAAU,CACbC,IAAI,CAAC,UAAU,CACftB,KAAK,CAAEP,OAAQ,CACf8B,QAAQ,CAAE1B,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNV,IAAA,QAAA6B,QAAA,cACE7B,IAAA,WAAQiC,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,eAAe,CAACM,QAAQ,CAAE7B,OAAQ,CAAAqB,QAAA,CAC/DrB,OAAO,CAAG,eAAe,CAAG,QAAQ,CAC/B,CAAC,CACN,CAAC,EACF,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAAL,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}