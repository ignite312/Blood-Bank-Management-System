{"ast":null,"code":"import React,{useEffect,useState}from'react';import'../App.css';import'../styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserDataInput(_ref){let{onUserInput}=_ref;const[userData,setUserData]=useState({id:'',firstName:'',lastName:'',phone:'',bloodType:'',location:'',email:'',donationCount:''});const[loading,setLoading]=useState(false);const[submissionStatus,setSubmissionStatus]=useState(null);const handleInputChange=e=>{const{name,value}=e.target;setUserData(prevUserData=>({...prevUserData,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{setLoading(true);const response=await fetch('http://localhost:3000/api/insert-data',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)});if(response.ok){console.log('Data successfully inserted into the database');setSubmissionStatus('success');// Optionally, reset the form or provide feedback to the user\nsetUserData({id:'',firstName:'',lastName:'',phone:'',bloodType:'',location:'',email:'',donationCount:''});onUserInput(userData);}else{console.error('Failed to insert data into the database');setSubmissionStatus('failure');// Optionally, provide user-friendly error message or feedback\n}}catch(error){console.error('Error:',error);setSubmissionStatus('failure');// Optionally, provide user-friendly error message or feedback\n}finally{setLoading(false);}};const handleKeyDown=e=>{const activeElement=document.activeElement;const inputFields=Array.from(document.getElementsByTagName('input'));const currentIndex=inputFields.indexOf(activeElement);if(e.key==='ArrowDown'){e.preventDefault();const nextIndex=(currentIndex+1)%inputFields.length;inputFields[nextIndex].focus();}else if(e.key==='ArrowUp'){e.preventDefault();const prevIndex=(currentIndex-1+inputFields.length)%inputFields.length;inputFields[prevIndex].focus();}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Donor Information\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"user-input-form\",onKeyDown:handleKeyDown,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"id\",children:\"ID:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"id\",name:\"id\",value:userData.id,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",name:\"firstName\",value:userData.firstName,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastName\",name:\"lastName\",value:userData.lastName,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"phone\",name:\"phone\",value:userData.phone,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bloodType\",children:\"Blood Type:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"bloodType\",name:\"bloodType\",value:userData.bloodType,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location\",children:\"Location:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"location\",name:\"location\",value:userData.location,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",name:\"email\",value:userData.email,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"donationCount\",children:\"Donation Count:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"donationCount\",name:\"donationCount\",value:userData.donationCount,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Submit\"})})]})]});}export default UserDataInput;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","UserDataInput","_ref","onUserInput","userData","setUserData","id","firstName","lastName","phone","bloodType","location","email","donationCount","loading","setLoading","submissionStatus","setSubmissionStatus","handleInputChange","e","name","value","target","prevUserData","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","console","log","error","handleKeyDown","activeElement","document","inputFields","Array","from","getElementsByTagName","currentIndex","indexOf","key","nextIndex","length","focus","prevIndex","children","onSubmit","className","onKeyDown","htmlFor","type","onChange"],"sources":["/Users/emon/Desktop/Blood-Bank-Management-System/src/Pages/DonorInput.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../App.css';\nimport '../styles.css';\n\nfunction UserDataInput({ onUserInput }) {\n  const [userData, setUserData] = useState({\n    id: '',\n    firstName: '',\n    lastName: '',\n    phone: '',\n    bloodType: '',\n    location: '',\n    email: '',\n    donationCount: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [submissionStatus, setSubmissionStatus] = useState(null);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setUserData((prevUserData) => ({\n      ...prevUserData,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      setLoading(true);\n\n      const response = await fetch('http://localhost:3000/api/insert-data', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(userData),\n      });\n\n      if (response.ok) {\n        console.log('Data successfully inserted into the database');\n        setSubmissionStatus('success');\n        // Optionally, reset the form or provide feedback to the user\n        setUserData({\n          id: '',\n          firstName: '',\n          lastName: '',\n          phone: '',\n          bloodType: '',\n          location: '',\n          email: '',\n          donationCount: '',\n        });\n        onUserInput(userData);\n      } else {\n        console.error('Failed to insert data into the database');\n        setSubmissionStatus('failure');\n        // Optionally, provide user-friendly error message or feedback\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      setSubmissionStatus('failure');\n      // Optionally, provide user-friendly error message or feedback\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    const activeElement = document.activeElement;\n    const inputFields = Array.from(document.getElementsByTagName('input'));\n    const currentIndex = inputFields.indexOf(activeElement);\n\n    if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      const nextIndex = (currentIndex + 1) % inputFields.length;\n      inputFields[nextIndex].focus();\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      const prevIndex = (currentIndex - 1 + inputFields.length) % inputFields.length;\n      inputFields[prevIndex].focus();\n    }\n  };\n\n  return (\n    <div>\n      <h2>Donor Information</h2>\n      <form onSubmit={handleSubmit} className=\"user-input-form\" onKeyDown={handleKeyDown}>\n        <div>\n          <label htmlFor=\"id\">ID:</label>\n          <input\n            type=\"text\"\n            id=\"id\"\n            name=\"id\"\n            value={userData.id}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"firstName\">First Name:</label>\n          <input\n            type=\"text\"\n            id=\"firstName\"\n            name=\"firstName\"\n            value={userData.firstName}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"lastName\">Last Name:</label>\n          <input\n            type=\"text\"\n            id=\"lastName\"\n            name=\"lastName\"\n            value={userData.lastName}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"phone\">Phone:</label>\n          <input\n            type=\"text\"\n            id=\"phone\"\n            name=\"phone\"\n            value={userData.phone}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"bloodType\">Blood Type:</label>\n          <input\n            type=\"text\"\n            id=\"bloodType\"\n            name=\"bloodType\"\n            value={userData.bloodType}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"location\">Location:</label>\n          <input\n            type=\"text\"\n            id=\"location\"\n            name=\"location\"\n            value={userData.location}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"email\">Email:</label>\n          <input\n            type=\"text\"\n            id=\"email\"\n            name=\"email\"\n            value={userData.email}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"donationCount\">Donation Count:</label>\n          <input\n            type=\"text\"\n            id=\"donationCount\"\n            name=\"donationCount\"\n            value={userData.donationCount}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\" className=\"submit-button\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default UserDataInput;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,YAAY,CACnB,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvB,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAkB,IAAjB,CAAEC,WAAY,CAAC,CAAAD,IAAA,CACpC,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,CACvCU,EAAE,CAAE,EAAE,CACNC,SAAS,CAAE,EAAE,CACbC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,SAAS,CAAE,EAAE,CACbC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,aAAa,CAAE,EACjB,CAAC,CAAC,CACF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACoB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAE9D,KAAM,CAAAsB,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCjB,WAAW,CAAEkB,YAAY,GAAM,CAC7B,GAAGA,YAAY,CACf,CAACH,IAAI,EAAGC,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAElB,GAAI,CACFV,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAW,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,uCAAuC,CAAE,CACpEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC5B,QAAQ,CAC/B,CAAC,CAAC,CAEF,GAAIsB,QAAQ,CAACO,EAAE,CAAE,CACfC,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC,CAC3DlB,mBAAmB,CAAC,SAAS,CAAC,CAC9B;AACAZ,WAAW,CAAC,CACVC,EAAE,CAAE,EAAE,CACNC,SAAS,CAAE,EAAE,CACbC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,SAAS,CAAE,EAAE,CACbC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,aAAa,CAAE,EACjB,CAAC,CAAC,CACFV,WAAW,CAACC,QAAQ,CAAC,CACvB,CAAC,IAAM,CACL8B,OAAO,CAACE,KAAK,CAAC,yCAAyC,CAAC,CACxDnB,mBAAmB,CAAC,SAAS,CAAC,CAC9B;AACF,CACF,CAAE,MAAOmB,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9BnB,mBAAmB,CAAC,SAAS,CAAC,CAC9B;AACF,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAsB,aAAa,CAAIlB,CAAC,EAAK,CAC3B,KAAM,CAAAmB,aAAa,CAAGC,QAAQ,CAACD,aAAa,CAC5C,KAAM,CAAAE,WAAW,CAAGC,KAAK,CAACC,IAAI,CAACH,QAAQ,CAACI,oBAAoB,CAAC,OAAO,CAAC,CAAC,CACtE,KAAM,CAAAC,YAAY,CAAGJ,WAAW,CAACK,OAAO,CAACP,aAAa,CAAC,CAEvD,GAAInB,CAAC,CAAC2B,GAAG,GAAK,WAAW,CAAE,CACzB3B,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAsB,SAAS,CAAG,CAACH,YAAY,CAAG,CAAC,EAAIJ,WAAW,CAACQ,MAAM,CACzDR,WAAW,CAACO,SAAS,CAAC,CAACE,KAAK,CAAC,CAAC,CAChC,CAAC,IAAM,IAAI9B,CAAC,CAAC2B,GAAG,GAAK,SAAS,CAAE,CAC9B3B,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAyB,SAAS,CAAG,CAACN,YAAY,CAAG,CAAC,CAAGJ,WAAW,CAACQ,MAAM,EAAIR,WAAW,CAACQ,MAAM,CAC9ER,WAAW,CAACU,SAAS,CAAC,CAACD,KAAK,CAAC,CAAC,CAChC,CACF,CAAC,CAED,mBACEjD,KAAA,QAAAmD,QAAA,eACErD,IAAA,OAAAqD,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BnD,KAAA,SAAMoD,QAAQ,CAAE5B,YAAa,CAAC6B,SAAS,CAAC,iBAAiB,CAACC,SAAS,CAAEjB,aAAc,CAAAc,QAAA,eACjFnD,KAAA,QAAAmD,QAAA,eACErD,IAAA,UAAOyD,OAAO,CAAC,IAAI,CAAAJ,QAAA,CAAC,KAAG,CAAO,CAAC,cAC/BrD,IAAA,UACE0D,IAAI,CAAC,MAAM,CACXlD,EAAE,CAAC,IAAI,CACPc,IAAI,CAAC,IAAI,CACTC,KAAK,CAAEjB,QAAQ,CAACE,EAAG,CACnBmD,QAAQ,CAAEvC,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNlB,KAAA,QAAAmD,QAAA,eACErD,IAAA,UAAOyD,OAAO,CAAC,WAAW,CAAAJ,QAAA,CAAC,aAAW,CAAO,CAAC,cAC9CrD,IAAA,UACE0D,IAAI,CAAC,MAAM,CACXlD,EAAE,CAAC,WAAW,CACdc,IAAI,CAAC,WAAW,CAChBC,KAAK,CAAEjB,QAAQ,CAACG,SAAU,CAC1BkD,QAAQ,CAAEvC,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNlB,KAAA,QAAAmD,QAAA,eACErD,IAAA,UAAOyD,OAAO,CAAC,UAAU,CAAAJ,QAAA,CAAC,YAAU,CAAO,CAAC,cAC5CrD,IAAA,UACE0D,IAAI,CAAC,MAAM,CACXlD,EAAE,CAAC,UAAU,CACbc,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEjB,QAAQ,CAACI,QAAS,CACzBiD,QAAQ,CAAEvC,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNlB,KAAA,QAAAmD,QAAA,eACErD,IAAA,UAAOyD,OAAO,CAAC,OAAO,CAAAJ,QAAA,CAAC,QAAM,CAAO,CAAC,cACrCrD,IAAA,UACE0D,IAAI,CAAC,MAAM,CACXlD,EAAE,CAAC,OAAO,CACVc,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEjB,QAAQ,CAACK,KAAM,CACtBgD,QAAQ,CAAEvC,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNlB,KAAA,QAAAmD,QAAA,eACErD,IAAA,UAAOyD,OAAO,CAAC,WAAW,CAAAJ,QAAA,CAAC,aAAW,CAAO,CAAC,cAC9CrD,IAAA,UACE0D,IAAI,CAAC,MAAM,CACXlD,EAAE,CAAC,WAAW,CACdc,IAAI,CAAC,WAAW,CAChBC,KAAK,CAAEjB,QAAQ,CAACM,SAAU,CAC1B+C,QAAQ,CAAEvC,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNlB,KAAA,QAAAmD,QAAA,eACErD,IAAA,UAAOyD,OAAO,CAAC,UAAU,CAAAJ,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3CrD,IAAA,UACE0D,IAAI,CAAC,MAAM,CACXlD,EAAE,CAAC,UAAU,CACbc,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEjB,QAAQ,CAACO,QAAS,CACzB8C,QAAQ,CAAEvC,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNlB,KAAA,QAAAmD,QAAA,eACErD,IAAA,UAAOyD,OAAO,CAAC,OAAO,CAAAJ,QAAA,CAAC,QAAM,CAAO,CAAC,cACrCrD,IAAA,UACE0D,IAAI,CAAC,MAAM,CACXlD,EAAE,CAAC,OAAO,CACVc,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEjB,QAAQ,CAACQ,KAAM,CACtB6C,QAAQ,CAAEvC,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNlB,KAAA,QAAAmD,QAAA,eACErD,IAAA,UAAOyD,OAAO,CAAC,eAAe,CAAAJ,QAAA,CAAC,iBAAe,CAAO,CAAC,cACtDrD,IAAA,UACE0D,IAAI,CAAC,MAAM,CACXlD,EAAE,CAAC,eAAe,CAClBc,IAAI,CAAC,eAAe,CACpBC,KAAK,CAAEjB,QAAQ,CAACS,aAAc,CAC9B4C,QAAQ,CAAEvC,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNpB,IAAA,QAAAqD,QAAA,cACErD,IAAA,WAAQ0D,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,eAAe,CAAAF,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC5D,CAAC,EACF,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAAlD,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}